---
id: "gatsby-powered-vicblog-beta"
date: "2018/08/02 16:12"
title: "Gatsby博客上线测试"
lang: cn
tags:
  - 博客
---

## 为什么又换了？？

上个寒假花了20天，用React+ASP.NET Core完整撸了一套博客网站出来。本以为就这样就可以了，结果却漏洞百出，且维护成本极高，例如：

- 后端20请求能爆5个异常
- 没有管理员管理界面，甚至没有文章编辑器，写文章还得手动发POST请求，更别提图床（上传图片）了
- 性能很不好，每次访问界面都需要去Azure拿数据，放GitHub Pages上的前端虽然已经做了代码分割，可是在国内GitHub Pages的速度也是不敢恭维，导致每次访问博客的速度非常慢
- 加功能成本极大，需要前后端都写。前后端分离有利于多人分工，可是却增大了工作量，对个人开发来说就是一种负担

因此，这套完整的博客系统虽然功能强大和完整，但是日常维护起来可是非常难受。

## Gatsby to the rescue!

不久前偷窥其他同学的GitHub发现了Gatsby，从此打开了新世界，马不停蹄地把博客用Gatsby重做一下。

花了两天时间（其实也就10个小时）撸了一个博客出来。这里推荐一个工具wakatime，可以记录每天编程的时间、语言、项目，知道自己到底花了多少时间在编程上。

![wakatime](./wakatime.png)

为什么最后用Gatsby？

- 高性能

Gatsby最后生成的是静态网页，不需要折腾部署，并且便于被CDN和缓存

- 灵活，能够用上React和整个npm前端生态圈

有人看到这个之前可能要问为什么不直接用hexo这种专门写博客的框架，这就是我的原因。hexo等这种静态博客工具过于局限，也不便于用上React等现在已经非常成熟的前端框架来让开发过程更加现代化。同样，Gatsby的灵活也便于扩展网站的功能和自定义。

当然，Gatsby也是有坑的，比如我遇到的就有以下的两个大块：

- 中小型开源项目共有的：
  - 文档不完整或者写得不好
  - 网络上的教程质量不高
  - 第三方插件质量参差不齐
  - 等
- v2 beta过多的breaking changes让迁移v2的冲突失败
  - TS插件不支持v2就直接让我滚回来继续用v1了（升级webpack v4杯具重演，也是TS插件）
- 不如纯React灵活，不能100%跟随着潮流

只不过这些坑踩过之后影响不大。

## TODO

当然，还有许多工作一些工作没有完成，我会在接下来的时间赶紧弄好的！

- CI/CD
- 评论系统









